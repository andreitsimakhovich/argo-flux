groups:
  - name: cpu-overload
    rules:
      - alert: CPUOverload
        expr: |
          sum by(pod) (rate(container_cpu_usage_seconds_total{container!="",container!="POD"}[2m])) * 100 > 80
        for: 1m
        labels:
          severity: warning
        annotations:
          summary: "High CPU usage on pod {{ $labels.pod }}"
          description: "Под {{ $labels.pod }} использует более 80% CPU в течение >1 минуты."

